"use strict";var e=require("react/jsx-runtime"),n=require("react");function t(e,n){switch(n.type){case"open":return{...e,isOpen:!0,isNotification:!1};case"close":return{...e,isOpen:!1};case"delay":return{...e,isDelay:!1};case"notification":return{...e,isNotification:!0};default:return e}}function s(){return e.jsx("svg",{focusable:"false",viewBox:"0 0 24 24",width:"55",height:"55",children:e.jsx("path",{d:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z"})})}function o(){return e.jsx("svg",{viewBox:"0 0 16 15",width:"16",height:"15",children:e.jsx("path",{fill:"currentColor",d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z"})})}function l(){return e.jsx("svg",{focusable:"false",viewBox:"0 0 24 24",width:"24",height:"24",children:e.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})}function a(){return e.jsx("svg",{focusable:"false",viewBox:"0 0 24 24",width:"35",height:"35",children:e.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})}var i="styles-module_floatingWhatsapp__yWF5K",r="styles-module_whatsappButton__tVits",d="styles-module_whatsappChatBox__MdQ5U",_="styles-module_open__R8NqR",c="styles-module_close__RLouK",u="styles-module_chatHeader__gaeOA",m="styles-module_avatar__afcc4",p="styles-module_status__-ln3V",h="styles-module_statusTitle__NgfPQ",y="styles-module_statusSubtitle__esavW",g="styles-module_chatBody__VBxQH",x="styles-module_chatBubble__F6k84",f="styles-module_typing__Ru9xZ",b="styles-module_dot__RoVT7",v="styles-module_message__Z9MOV",w="styles-module_accountName__20AXD",k="styles-module_messageBody__9-hwo",j="styles-module_triangle__K9ViC",B="styles-module_messageTime__MIwoR",N="styles-module_chatFooter__TGv0P",V="styles-module_input__WFb9L",T="styles-module_buttonSend__kXjja",R="styles-module_notificationIndicator__gVmjV";!function(e,n){void 0===n&&(n={});var t=n.insertAt;if("undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&s.firstChild?s.insertBefore(o,s.firstChild):s.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".styles-module_floatingWhatsapp__yWF5K {\n  width: 100%;\n  height: 100%;\n  text-align: left;\n  position: relative;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n}\n\n.styles-module_whatsappButton__tVits {\n  width: 60px;\n  height: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  bottom: 2rem;\n  right: 2rem;\n  cursor: pointer;\n  background-color: #25d366;\n  border-radius: 50%;\n  -webkit-user-select: none;\n          user-select: none;\n  box-shadow: 0px 4px 10px 0px rgb(0 0 0 / 15%);\n  z-index: 9998;\n}\n\n.styles-module_whatsappButton__tVits:after {\n  content: '';\n  border-color: inherit;\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  position: absolute;\n  box-shadow: 0 0 0 0 rgba(37, 211, 101, 0);\n  animation: styles-module__pulse__BJkE8 1.2s infinite;\n}\n\n.styles-module_whatsappButton__tVits svg {\n  fill: #fff;\n  padding: 0.5rem;\n  width: 55px;\n  height: 55px;\n}\n\n.styles-module_whatsappChatBox__MdQ5U {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  border-radius: 5%;\n  overflow: hidden;\n  background-color: #fff;\n  touch-action: auto;\n  position: fixed;\n  bottom: 7rem;\n  right: 4rem;\n  width: 375px;\n  opacity: 0;\n  transition: height 0.2s ease-out;\n  box-shadow: 0 3px 10px 0 rgb(0 0 0 / 20%);\n  z-index: 9999;\n}\n\n@media (max-width: 575px) {\n  .styles-module_whatsappChatBox__MdQ5U {\n    right: 0;\n    left: 0;\n    max-width: 90%;\n    margin: auto;\n  }\n}\n\n.styles-module_whatsappChatBox__MdQ5U.styles-module_open__R8NqR {\n  animation: styles-module__bounceIn__Ry9iZ 0.4s both;\n}\n\n.styles-module_whatsappChatBox__MdQ5U.styles-module_close__RLouK {\n  animation: styles-module__bounceOut__d5QVu 0.4s both;\n}\n\n.styles-module_chatHeader__gaeOA {\n  background-color: #075e54;\n  display: grid;\n  align-items: center;\n  padding: 0.25rem;\n  grid-template-columns: 20% 60% 1fr;\n  gap: 1%;\n}\n\n.styles-module_chatHeader__gaeOA .styles-module_avatar__afcc4 {\n  padding: 0.25rem;\n  position: relative;\n}\n\n.styles-module_chatHeader__gaeOA .styles-module_avatar__afcc4 img {\n  vertical-align: middle;\n  border-radius: 50%;\n  height: 60px;\n  width: 60px;\n  border: 1px solid rgba(255, 255, 255, 0.473);\n}\n\n.styles-module_chatHeader__gaeOA .styles-module_avatar__afcc4:after {\n  content: '';\n  width: 10px;\n  height: 10px;\n  background: #4fbe86;\n  border: 1px solid #fff;\n  position: absolute;\n  border-radius: 50%;\n  bottom: 5px;\n  right: 8px;\n}\n\n.styles-module_chatHeader__gaeOA .styles-module_avatar__afcc4 svg {\n  fill: #fff;\n  vertical-align: middle;\n}\n\n.styles-module_chatHeader__gaeOA .styles-module_status__-ln3V {\n  color: #fff;\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem;\n}\n\n.styles-module_chatHeader__gaeOA .styles-module_statusTitle__NgfPQ {\n  font-size: 1rem;\n  font-weight: 700;\n}\n\n.styles-module_chatHeader__gaeOA .styles-module_statusSubtitle__esavW {\n  font-size: 0.8rem;\n  color: #f0f0f0;\n}\n\n.styles-module_chatHeader__gaeOA .styles-module_close__RLouK {\n  padding: 1rem;\n  cursor: pointer;\n  text-align: center;\n}\n\n.styles-module_chatHeader__gaeOA .styles-module_close__RLouK svg {\n  fill: #fff;\n  width: 24px;\n  height: 24px;\n}\n\n.styles-module_chatBody__VBxQH {\n  padding: 20px;\n  background-size: cover;\n  background-repeat: repeat;\n  max-height: 382px;\n  background-color: #eae6df;\n  height: 100%;\n  opacity: 0.9;\n}\n\n.styles-module_chatBubble__F6k84 {\n  background-color: #e6f8f1;\n  padding: 16px 28px;\n  border-radius: 20px;\n  border-bottom-left-radius: 2px;\n  display: inline-block;\n}\n\n.styles-module_typing__Ru9xZ {\n  align-items: center;\n  display: flex;\n  height: 17px;\n}\n\n.styles-module_typing__Ru9xZ .styles-module_dot__RoVT7 {\n  animation: styles-module_typingAnimation__fErT4 1.8s infinite ease-in-out;\n  background-color: rgba(20, 105, 69, 0.7);\n  border-radius: 50%;\n  height: 7px;\n  margin-right: 4px;\n  vertical-align: middle;\n  width: 7px;\n  display: inline-block;\n}\n\n.styles-module_typing__Ru9xZ .styles-module_dot__RoVT7:nth-child(1) {\n  animation-delay: 200ms;\n}\n\n.styles-module_typing__Ru9xZ .styles-module_dot__RoVT7:nth-child(2) {\n  animation-delay: 300ms;\n}\n\n.styles-module_typing__Ru9xZ .styles-module_dot__RoVT7:nth-child(3) {\n  animation-delay: 400ms;\n}\n\n.styles-module_typing__Ru9xZ .styles-module_dot__RoVT7:last-child {\n  margin-right: 0;\n}\n\n.styles-module_chatBody__VBxQH .styles-module_message__Z9MOV {\n  padding: 7px 14px 6px;\n  background-color: #fff;\n  border-radius: 0px 8px 8px;\n  position: relative;\n  max-width: calc(100% - 120px);\n  z-index: 2;\n  box-shadow: rgb(0 0 0 / 13%) 0px 1px 0.5px;\n}\n\n.styles-module_chatBody__VBxQH .styles-module_accountName__20AXD {\n  font-size: 13px;\n  font-weight: 700;\n  line-height: 18px;\n  color: rgb(17 17 17 / 50%);\n}\n\n.styles-module_chatBody__VBxQH .styles-module_messageBody__9-hwo {\n  font-size: 14px;\n  line-height: 19px;\n  margin-top: 4px;\n  color: #111111;\n  white-space: pre-wrap;\n}\n\n.styles-module_chatBody__VBxQH .styles-module_message__Z9MOV .styles-module_triangle__K9ViC {\n  display: inline-block;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 0 20px 20px 0;\n  border-color: transparent #fff transparent transparent;\n  position: absolute;\n  left: -10px;\n  top: 0;\n}\n\n.styles-module_chatBody__VBxQH .styles-module_messageTime__MIwoR {\n  display: flex;\n  margin-top: 4px;\n  font-size: 12px;\n  line-height: 16px;\n  color: rgb(17 17 17 / 50%);\n  justify-content: flex-end;\n}\n\n.styles-module_chatFooter__TGv0P {\n  padding: 0.25rem;\n  background-color: #f0f0f0;\n}\n\n.styles-module_chatFooter__TGv0P form {\n  display: grid;\n  align-items: center;\n  grid-template-columns: 85% 15%;\n  padding: 0.25rem;\n}\n\n.styles-module_chatFooter__TGv0P form .styles-module_input__WFb9L {\n  border-radius: 20px;\n  padding: 0 10px;\n  border: none;\n  background-color: #fefefe;\n  min-height: 45px;\n  transition: box-shadow 0.2s ease-in-out;\n}\n\n.styles-module_chatFooter__TGv0P form .styles-module_input__WFb9L:focus {\n  border-color: #075e54;\n  outline: 0;\n  box-shadow: 0 0 0 1px rgb(7 94 84 / 50%);\n}\n\n.styles-module_chatFooter__TGv0P form .styles-module_input__WFb9L::placeholder {\n  color: #949494;\n}\n\n.styles-module_chatFooter__TGv0P form .styles-module_buttonSend__kXjja {\n  background-color: transparent;\n  border: 0;\n  cursor: pointer;\n}\n\n.styles-module_chatFooter__TGv0P form .styles-module_buttonSend__kXjja svg {\n  vertical-align: middle;\n  fill: #919191;\n}\n\n.styles-module_chatFooter__TGv0P form .styles-module_buttonSend__kXjja:disabled {\n  pointer-events: none;\n  opacity: 0.5;\n}\n\n/* dark mode */\n.styles-module_dark__iZs3I .styles-module_chatBody__VBxQH {\n  background-color: #0d1418;\n}\n\n.styles-module_dark__iZs3I .styles-module_chatBody__VBxQH .styles-module_message__Z9MOV {\n  background-color: #056162;\n  box-shadow: rgb(0 0 0 / 70%) 0px 1px 0.5px;\n}\n\n.styles-module_dark__iZs3I .styles-module_chatBody__VBxQH .styles-module_accountName__20AXD {\n  color: rgb(255 255 255 / 50%);\n}\n\n.styles-module_dark__iZs3I .styles-module_chatBody__VBxQH .styles-module_messageBody__9-hwo {\n  color: rgb(241 241 242 / 90%);\n}\n\n.styles-module_dark__iZs3I .styles-module_chatBody__VBxQH .styles-module_message__Z9MOV .styles-module_triangle__K9ViC {\n  border-color: transparent #056162 transparent transparent;\n}\n\n.styles-module_dark__iZs3I .styles-module_chatBody__VBxQH .styles-module_messageTime__MIwoR {\n  color: rgb(255 255 255 / 50%);\n}\n\n.styles-module_dark__iZs3I .styles-module_chatFooter__TGv0P {\n  background-color: #1e2428;\n}\n\n.styles-module_dark__iZs3I .styles-module_chatFooter__TGv0P form .styles-module_input__WFb9L {\n  background-color: #33383b;\n  color: #f1f1f2;\n}\n\n.styles-module_dark__iZs3I .styles-module_chatFooter__TGv0P form .styles-module_input__WFb9L:focus {\n  border-color: #0da896;\n  outline: 0;\n  box-shadow: 0 0 0 1px rgb(13 168 150 / 50%);\n}\n\n.styles-module_dark__iZs3I .styles-module_chatFooter__TGv0P form .styles-module_buttonSend__kXjja svg {\n  fill: rgb(104, 104, 104);\n}\n\n.styles-module_dark__iZs3I .styles-module_chatBubble__F6k84 {\n  background-color: #32373a;\n}\n\n.styles-module_dark__iZs3I .styles-module_typing__Ru9xZ .styles-module_dot__RoVT7 {\n  background-color: rgba(46, 148, 106, 0.7);\n}\n\n/* keyframes */\n@keyframes styles-module__pulse__BJkE8 {\n  0% {\n    box-shadow: 0 0 0 0 rgba(37, 211, 101, 0.75);\n  }\n  100% {\n    box-shadow: 0 0 0 15px rgba(37, 211, 101, 0);\n  }\n}\n\n@keyframes styles-module__bounceIn__Ry9iZ {\n  0% {\n    opacity: 0;\n    transform: scale(0, 0);\n    transform-origin: bottom right;\n  }\n\n  50% {\n    transform: scale(1.03, 1.03);\n    transform-origin: bottom right;\n  }\n\n  100% {\n    opacity: 1;\n    transform: scale(1, 1);\n    transform-origin: bottom right;\n  }\n}\n\n@keyframes styles-module__bounceOut__d5QVu {\n  0% {\n    opacity: 1;\n    height: scale(1, 1);\n    transform-origin: bottom right;\n  }\n  100% {\n    opacity: 0;\n    transform: scale(0, 0);\n    transform-origin: bottom right;\n  }\n}\n\n@keyframes styles-module_typingAnimation__fErT4 {\n  0% {\n    transform: translateY(0px);\n    background-color: rgba(20, 105, 69, 0.7);\n  }\n  28% {\n    transform: translateY(-7px);\n    background-color: rgba(20, 105, 69, 0.4);\n  }\n  44% {\n    transform: translateY(0px);\n    background-color: rgba(20, 105, 69, 0.2);\n  }\n}\n\n.styles-module_notificationIndicator__gVmjV {\n  display: flex;\n  flex-flow: row wrap;\n  place-content: center;\n  align-items: center;\n  position: absolute;\n  box-sizing: border-box;\n  font-family: inherit;\n  font-weight: 500;\n  font-size: 0.75rem;\n  min-width: 20px;\n  line-height: 1;\n  padding: 0px 6px;\n  height: 20px;\n  border-radius: 10px;\n  z-index: 1;\n  transition: transform 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  background-color: rgb(235, 0, 20);\n  color: rgb(255, 255, 255);\n  top: 0;\n  right: 10px;\n  transform: scale(1) translate(50%, -50%);\n  transform-origin: 100% 0%;\n}\n"),exports.FloatingWhatsApp=function({onClick:H,onSubmit:Z,onClose:F,onNotification:C,onLoopDone:L,phoneNumber:I="1234567890",accountName:A="Account Name",avatar:M="",statusMessage:O="Typically replies within 1 hour",chatMessage:Q="Hello there! 🤝 \nHow can we help?",placeholder:z="Type a message..",messageDelay:S=2,allowClickAway:P=!1,allowEsc:E=!1,notification:G=!0,notificationDelay:W=60,notificationLoop:D=0,notificationSound:$=!1,notificationStyle:K,notificationClassName:X="floating-whatsapp-notification",buttonStyle:U,buttonClassName:q="floating-whatsapp-button",chatboxHeight:Y=320,chatboxStyle:J,chatboxClassName:ee="floating-whatsapp-chatbox",style:ne,className:te="floating-whatsapp"}){const[{isOpen:se,isDelay:oe,isNotification:le},ae]=n.useReducer(t,{isOpen:!1,isDelay:!0,isNotification:!1}),ie=n.useMemo((()=>(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),[]),re=n.useRef(null),de=n.useRef(null),_e=n.useRef(0),ce=n.useRef(0),ue=n.useCallback((()=>{G&&(ae({type:"notification"}),C&&C(),D>0&&(_e.current+=1,$&&de.current&&(de.current.currentTime=0,de.current.play()),_e.current===D&&(clearInterval(ce.current),L&&L())))}),[G,D,$,C,L]);n.useEffect((()=>{const e=1e3*W;return e<10?console.error("notificationDelay prop value must be at least 10 seconds."):(ce.current=window.setInterval(ue,e),()=>clearInterval(ce.current))}),[ue,W]);const me=n.useCallback((e=>{e.stopPropagation(),se||(clearInterval(ce.current),ae({type:"open"}),setTimeout((()=>ae({type:"delay"})),1e3*S),H&&H(e))}),[se,H,S]),pe=n.useCallback((()=>{ae({type:"close"}),F&&F()}),[F]);return n.useEffect((()=>{const e=()=>{P&&se&&pe()};return document.addEventListener("click",e,!1),()=>document.removeEventListener("click",e)}),[P,se,pe]),n.useEffect((()=>{const e=e=>{E&&se&&"Escape"===e.key&&pe()};return document.addEventListener("keydown",e,!1),()=>document.removeEventListener("keydown",e)}),[E,se,pe]),e.jsxs("div",{className:`${i} ${te}`,style:ne,children:[e.jsxs("div",{className:`${r} ${q}`,onClick:me,style:U,"aria-hidden":"true",children:[e.jsx(s,{}),le&&e.jsx("span",{className:`${R} ${X}`,style:K,children:"1"})]}),e.jsxs("div",{className:`${d} ${se?_:c} ${ee}`,onClick:e=>e.stopPropagation(),"aria-hidden":"true",style:{height:se?Y:0,...J},children:[e.jsxs("header",{className:u,children:[e.jsx("div",{className:m,children:e.jsx("img",{src:M,width:"60",height:"60",alt:"whatsapp-avatar"})}),e.jsxs("div",{className:p,children:[e.jsx("span",{className:h,children:A}),e.jsx("span",{className:y,children:O})]}),e.jsx("div",{className:c,onClick:pe,"aria-hidden":"true",children:e.jsx(l,{})})]}),e.jsx("div",{className:g,style:{},children:oe?e.jsx("div",{className:x,children:e.jsxs("div",{className:f,children:[e.jsx("div",{className:b}),e.jsx("div",{className:b}),e.jsx("div",{className:b})]})}):e.jsxs("div",{className:v,children:[e.jsx("span",{className:j}),e.jsx("span",{className:w,children:A}),e.jsx("p",{className:k,children:Q}),e.jsxs("span",{className:B,children:[ie,e.jsx("span",{style:{marginLeft:5},children:e.jsx(o,{})})]})]})}),e.jsx("footer",{className:N,children:e.jsxs("form",{onSubmit:e=>{e.preventDefault(),re.current?.value&&(window.open(`https://api.whatsapp.com/send/?phone=${I}&text=${re.current.value}`),Z&&Z(e,re.current.value),re.current.value="")},children:[e.jsx("input",{className:V,placeholder:z,ref:re,dir:"auto"}),e.jsx("button",{type:"submit",className:T,children:e.jsx(a,{})})]})})]})]})};
